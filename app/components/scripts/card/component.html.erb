<%= render(Layout::Modal::Component.new(class: "w-full", disabled: @edit)) do |c| %>
  <% c.button(class: "w-full flex justify-start") do %>
    <div class="flex w-full p-3 cursor-pointer bg-beaver-800 hover:bg-beaver-700 items-center">
      <%= octicon "file", height: 20, class: "fill-current mr-2" %>
      <%= @script.name %>

      <% if @edit && @script.invalid? %>
        <span class="text-red-400 ml-2">
          invalid
        </span>
      <% end %>

      <% if @script.content %>
        <div class="ml-auto text-beaver-400">
          chars: <%= @script.content.size %>
        </div>
      <% end %>
    </div>
    <% if @edit %>
      <div class="p-3 border-l cursor-pointer info_bg border-beaver-850">
        Edit
      </div>
      <div class="p-3 border-l cursor-pointer danger_bg border-beaver-850">
        Delete
      </div>
    <% end %>
  <% end %>

  <% c.body do %>
    <%== @script.highlighted_content %>
    <%= "refresh this page if this script didn't updated yet" if @script.highlighted_content.blank?%>
  <% end %>
<% end %>

